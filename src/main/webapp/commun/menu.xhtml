<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion toggled" id="accordionSidebar" >

        <h:panelGroup id="menuBar">
            <a class="sidebar-brand d-flex align-items-center justify-content-center" style="height: 60px" href="#">
                <div id="logoOpenTheso">
                    <img src="#{request.contextPath}/resources/img/icon_opentheso.png" style="width:40px" />
                </div>
                <div class="sidebar-brand-text mx-3">
                    <img src="#{request.contextPath}/resources/img/logo_Opentheso.png" style="height: 35px" />
                </div>
            </a>

            <hr class="sidebar-divider my-0"/>

            <!-- Debut Thesorus -->
            <li class="nav-item" style="margin-top: 20px;">
                <span class="nav-link">
                    <div id="thesoButton1" style=" margin-left: 5px">
                        <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToThesaurus()}"
                                       style="color: #fff; text-decoration: none; font-size: 14px;" process="@this">
                            <i class="fa-solid fa-folder-tree" style="font-size: 1.2rem" />
                            #{langueBean.getMsg('menu.thesaurus')}
                        </p:commandLink>
                    </div>
                    <div id="thesoButton2">
                        <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToThesaurus()}"
                                       style="color: #fff; text-decoration: none;" process="@this">
                            <i class="fa-solid fa-folder-tree" style="font-size: 1.7rem" />
                        </p:commandLink>
                    </div>
                </span>
            </li>
            <!-- Fin Thesorus -->

            <!-- Debut Candidat -->
            <h:panelGroup rendered="#{(currentUser.nodeUser != null and selectedTheso.currentIdTheso != null) and
                                      (roleOnTheso.isAdminOnThisTheso or roleOnTheso.isManagerOnThisTheso or roleOnTheso.isContributorOnThisTheso or currentUser.nodeUser.isSuperAdmin)}" > 

                <li class="nav-item">
                    <span class="nav-link">
                        <div id="candidatButton1" style=" margin-left: 5px">
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToCandidatPage()}" process="@this" 
                                           style="color: #fff; text-decoration: none; font-size: 14px;">
                                <i class="fa-solid fa-file-circle-check" style="font-size: 1.2rem" />
                                #{langueBean.getMsg('candidat.titre')}
                            </p:commandLink>
                        </div>
                        <div id="candidatButton2">
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToCandidatPage()}"
                                           style="color: #fff; text-decoration: none;" process="@this">
                                <i class="fa-solid fa-file-circle-check" style="font-size: 1.7rem" />
                            </p:commandLink>
                        </div>
                    </span>
                </li>
            </h:panelGroup>
            <!-- Fin candidat -->

            <!-- Debut profile -->
            <h:panelGroup rendered="#{currentUser.nodeUser != null}" > 
                <li class="nav-item">
                    <div id="profileButton1">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo"
                           aria-expanded="true" aria-controls="collapseTwo">
                            <i class="fas fa-fw fa-user" style="font-size: 1.2rem" />
                            <span style="color: #fff; text-decoration: none; font-size: 12px;">#{langueBean.getMsg('menu.profile')}</span>
                        </a>
                    </div>
                    <div id="profileButton2">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo"
                           aria-expanded="true" aria-controls="collapseTwo">
                            <i class="fas fa-fw fa-user" style="font-size: 1.7rem" />
                        </a>
                    </div>
                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                        <div class="bg-white py-2 collapse-inner rounded">
                            <h6 class="collapse-header" style="font-size: 12px;">Menu:</h6>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToMyProfilePage()}" 
                                           process="@this" style="font-size: 12px;">#{langueBean.getMsg('profile.my_account')}
                            </p:commandLink>
                            <p:commandLink rendered="#{(currentUser.nodeUser != null) and (currentUser.allAuthorizedProjectAsAdmin.size() > 0 or currentUser.nodeUser.isSuperAdmin)}"
                                           class="collapse-item" actionListener="#{menuBean.redirectToMesProjectsPage()}"
                                           style="font-size: 12px;" process="@this">#{langueBean.getMsg('profile.my_projects_users')}
                            </p:commandLink>
                            <hr class="sidebar-divider">
                                <p:commandLink rendered="#{(currentUser.nodeUser != null) and (currentUser.nodeUser.isSuperAdmin)}"
                                               class="collapse-item" actionListener="#{menuBean.redirectToUsersPage()}" 
                                               style="font-size: 12px;" process="@this">#{langueBean.getMsg('profile.tooltip_all_users')}
                                </p:commandLink>
                                <p:commandLink rendered="#{(currentUser.nodeUser != null) and (currentUser.nodeUser.isSuperAdmin)}"
                                               class="collapse-item" actionListener="#{menuBean.redirectToProjetsPage()}"
                                               style="font-size: 12px;" process="@this">#{langueBean.getMsg('profile.all_projects')}</p:commandLink>
                                <p:commandLink rendered="#{(currentUser.nodeUser != null) and (currentUser.nodeUser.isSuperAdmin)}"
                                               class="collapse-item" actionListener="#{menuBean.redirectToThesorusPage()}"
                                               style="font-size: 12px;" process="@this">#{langueBean.getMsg('profile.all_thesauri')}
                                </p:commandLink>
                            </hr>
                        </div>
                    </div>
                </li>
            </h:panelGroup>
            <!-- Fin profil -->

            <!-- Debut boite à outils -->
            <h:panelGroup rendered="#{(currentUser.nodeUser != null) and 
                                      (currentUser.allAuthorizedProjectAsAdmin.size() > 0 or currentUser.nodeUser.isSuperAdmin)}" >        
                <li class="nav-item">
                    <div id="toolboxButton1">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities"
                           aria-expanded="true" aria-controls="collapseUtilities">
                            <i class="fas fa-fw fa-briefcase" style="font-size: 1.2rem" />
                            <span style="color: #fff; text-decoration: none; font-size: 12px;">
                                #{langueBean.getMsg('menu.toolbox')}
                            </span>
                        </a>
                    </div>
                    <div id="toolboxButton2">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities"
                           aria-expanded="true" aria-controls="collapseUtilities">
                            <i class="fas fa-fw fa-briefcase" style="font-size: 1.7rem" />
                        </a>
                    </div>
                    <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities"
                         data-parent="#accordionSidebar">
                        <div class="bg-white py-2 collapse-inner rounded">
                            <h6 class="collapse-header" style="font-size: 12px;">Menu:</h6>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToEditionPage()}" 
                                           style="font-size: 12px;" process="@this">#{langueBean.getMsg('menu.edition')}</p:commandLink>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToAtelierPage()}" 
                                           style="font-size: 12px;" process="@this">#{langueBean.getMsg('menu.thesaurusWorkshop')}</p:commandLink>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToMaintenancePage()}" 
                                           style="font-size: 12px;"  process="@this">#{langueBean.getMsg('menu.service')}</p:commandLink>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToStatistiquePage()}" 
                                           style="font-size: 12px;"  process="@this">#{langueBean.getMsg('statistique.statistic')}</p:commandLink>
                        </div>
                    </div>
                </li>
            </h:panelGroup>
            <!-- Fin boite à outils -->

            <!-- Debut setting -->
            <h:panelGroup rendered="#{(currentUser.nodeUser != null) and (selectedTheso.currentIdTheso != null)
                                      and (roleOnTheso.isAdminOnThisTheso or roleOnTheso.isSuperAdmin)}" >        
                <li class="nav-item">
                    <div id="settingButton1">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseParams"
                           aria-expanded="true" aria-controls="collapseParams">
                            <i class="fas fa-fw fa-wrench" style="font-size: 1.2rem" />
                            <span style="color: #fff; text-decoration: none; font-size: 12px;">
                                #{langueBean.getMsg('menu.setting')}
                            </span>
                        </a>
                    </div>
                    <div id="settingButton2">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseParams"
                           aria-expanded="true" aria-controls="collapseParams">
                            <i class="fas fa-fw fa-wrench" style="font-size: 1.7rem" />
                        </a>
                    </div>
                    <div id="collapseParams" class="collapse" aria-labelledby="headingUtilities"
                         data-parent="#accordionSidebar">
                        <div class="bg-white py-2 collapse-inner rounded">
                            <h6 class="collapse-header" style="font-size: 12px;">Menu:</h6>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToPreferencePage()}" 
                                           style="font-size: 12px;" process="@this">#{langueBean.getMsg('menu.preference')}</p:commandLink>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToIdetifiantPage()}" 
                                           style="font-size: 12px;" process="@this">#{langueBean.getMsg('menu.identifier')}</p:commandLink>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToCorpusPage()}" 
                                           style="font-size: 12px;" process="@this">#{langueBean.getMsg('menu.corpus')}</p:commandLink>
                        </div>
                    </div>
                </li>
                <hr class="sidebar-divider"/>
            </h:panelGroup>
        </h:panelGroup>

        <div class="text-center d-none d-md-inline">
            <button class="rounded-circle border-0" id="sidebarToggle" />
        </div>

        <div class="text-center d-none d-md-inline" style="height: 100%; width: 100%; position: relative; ">
            <div style="position: absolute; bottom: 0; left: 0; align-content: center;
                 width: 100%; margin-bottom: 30px; text-align: center;">
                <img src="#{request.contextPath}/resources/img/logo1.png" style="width:50px;" />
            </div>
        </div>

    </ul>
</ui:composition>