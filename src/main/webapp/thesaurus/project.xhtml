<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <div class="container-fluid col-xl-12 col-lg-12" style="margin-top: 30px">
        <div class="card shadow mb-4">
            <h:panelGroup rendered="#{(currentUser.nodeUser != null) and (currentUser.nodeUser.isSuperAdmin())}">
                <div class="card-header py-3" style="width: 100%; display: flex; margin-bottom: 0px">
                    <div style="width: 100%; text-align: right;">
                        <p:commandButton value="Modifier" ajax="true" process="@this"
                                         update="containerIndex" styleClass="ui-button-success" icon="pi pi-check"
                                         style="font-size: 14px; margin-right: 10px;"
                                         actionListener="#{projectBean.setEditPage()}" />
                    </div>
                </div>
            </h:panelGroup>

            <h:panelGroup rendered="#{projectBean.isListThesoVisible()}">
                <div class="card-header py-3" style="width: 100%; display: flex;">
                    <ul aria-label="Liste des thésaurus:">
                        <ui:repeat value="#{projectBean.getListeThesoOfProject()}" var="theso">
                            <li>#{projectBean.getLabel(theso)}</li>
                        </ui:repeat>
                    </ul>
                </div>
            </h:panelGroup>

            <h:panelGroup rendered="#{!projectBean.isListThesoVisible()}">
                <div class="card-header py-3" style="width: 100%; text-align: center; padding: 10px">
                    <h:outputLabel value="Aucune thésaurus existe dans le projet sélectionné !" />
                </div>
            </h:panelGroup>

            <div class="card-body">
                <!-- vue Page d'accueil -->
                <h:panelGrid rendered="#{projectBean.projectDescription}">
                    <h:outputText value="#{projectBean.getProjectDescriptionSelected().getDescription()}" escape="false"/>
                </h:panelGrid>

                <!-- vue connectée pour édition -->
                <h:panelGroup rendered="#{projectBean.editingHomePage}" >

                    <p:textEditor value="#{projectBean.text}" secure="false" height="600" style="margin-bottom:5px; margin-right: 5px"/>

                    <div class="row" style="margin-top: 15px">
                        <div class="col-4 offset-8" style="text-align: right">
                            <p:commandButton value="#{langueBean.getMsg('btnCancel')}"
                                             styleClass="ui-button-secondary button" icon="fas fa-undo-alt"
                                             update="containerIndex" style="font-size: 14px; margin-right: 20px;"
                                             actionListener="#{projectBean.init()}"/>

                            <p:commandButton value="#{langueBean.getMsg('btnValidate')}"
                                             update="containerIndex" styleClass="ui-button-success" icon="pi pi-check"
                                             style="font-size: 14px; margin-right: 10px;"
                                             actionListener="#{projectBean.updateHomePage()}" />
                        </div>
                    </div>
                </h:panelGroup>
            </div>
        </div>
    </div>

    <style type="text/css">
        ul:before{
            content:attr(aria-label);
            font-size:120%;
            font-weight:bold;
            margin-left:-15px;
        }
    </style>

</ui:composition>
