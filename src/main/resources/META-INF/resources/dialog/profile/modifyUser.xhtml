<ui:fragment xmlns="http://www.w3.org/1999/xhtml"  
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://xmlns.jcp.org/jsf/core">

    <p:dialog id="idModifyUser" header="#{langueBean.getMsg('profile.modify_user')}" widgetVar="modifyUser" 
              width="450" showEffect="fade" modal="true" resizable="false" position="top" style="margin-top: 30px" >



        <p:spacer height="20px;" />
        <h:form>
            <div class="row">
                <!-- Nom Pseudo -->
                <div class="col-5" >
                    <h:outputText value="#{langueBean.getMsg('profile.pseudo')} : "/>
                </div>
                <div class="col-7">
                    <p:inputText value="#{modifyUSerBean.nodeUser.name}" />
                </div>
            </div>
            
            <div class="row" style="margin-top: 5px;">
                <!-- Nom Pseudo -->
                <div class="col-5" >
                    <h:outputText value="#{langueBean.getMsg('profile.email')} : "/>
                </div>
                <div class="col-7">
                    <p:inputText value="#{modifyUSerBean.nodeUser.mail}" />
                </div>
            </div>            

            <!-- Alertes -->
            <div class="row" style="margin-top: 5px;">
                <div class="col-5">
                    <h:outputText value="#{langueBean.getMsg('profile.alert_by_email')} : "/>
                </div>
                <div class="col-7">
                    <p:toggleSwitch value="#{modifyUSerBean.nodeUser.alertMail}" />
                </div>
            </div>

            <!-- Pour activer / dÃ©sactiver le compte -->
            <div class="row" style="margin-top: 5px;">
                <div class="col-5">
                    <h:outputText value="#{langueBean.getMsg('profile.activateAccount')} : " />
                </div>
                <div class="col-7">
                </div>
            </div>

            <div class="row" style="margin-top: 5px;">
                <div class="col-12" style="text-align: right" >
                    <p:commandButton value="#{langueBean.getMsg('apply')}"
                                     update="containerIndex messageIndex"
                                     icon="fa-regular fa-floppy-disk"
                                     styleClass="ui-button-success"
                                     actionListener="#{modifyUSerBean.updateUser()}"
                                     oncomplete="PF('modifyUser').hide();" />
                </div>
            </div>
            
            <p:spacer height="20px;" />
            <p:separator title="-" />
            
            <!-- Initialiser le passe de l'utilisateur -->
            <div class="row" style="margin-top: 5px; margin-top: 30px">
                <div class="col-5">
                    <h:outputText value="#{langueBean.getMsg('profile.new_password')} : " />
                </div>
                <div class="col-7">
                    <p:password value="#{modifyUSerBean.passWord1}" style="width: 100%"/>
                </div>
            </div>

            <div class="row" style="margin-top: 5px;;">
                <div class="col-5">
                    <h:outputText value="#{langueBean.getMsg('profile.confirmation')} : " />
                </div>
                <div class="col-7">
                    <p:password value="#{modifyUSerBean.passWord2}" style="width: 100%"/>
                </div>
            </div>

            <div class="row" style="margin-top: 5px;">
                <div class="col-12" style="text-align: right" >
                    <p:commandButton value="#{langueBean.getMsg('apply')}" update="containerIndex:tabViewRoles messageIndex"
                                     icon="fa-regular fa-floppy-disk"
                                     styleClass="ui-button-success" oncomplete="PF('modifyUser').hide();"
                                     actionListener="#{modifyUSerBean.updatePassword()}">
                        <p:tooltip value="#{langueBean.getMsg('profile.changeUserPassTooltip')}" showDelay="1000" />
                    </p:commandButton>
                </div>
            </div>
        </h:form>
    </p:dialog>   
</ui:fragment>
