<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://java.sun.com/jsf/html"
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:p="http://primefaces.org/ui">

    <!-- ligne Notes -->
    <div class="card mb-4 py-3 border-left-success" style="margin-top: 15px; margin: 20px;">
        <div class="list-group" style="margin-top: -10px; margin-bottom: -10px">
            <div class="list-group-item list-group-item-action">
                <div class="row" style="vertical-align: central; margin-left: 0px;">

                    <div class="col-xl-3 col-lg-4 col-md-5 col-sm-5 offset-xl-0 offset-lg-0 offset-md-0 offset-sm-0" style="text-align: left; ">
                        <h:outputText value=" #{langueBean.getMsg('rightbody.concept.all_note')}"
                                      title="#{langueBean.getMsg('rightbody.concept.all_note')}"
                                      style="color: #78261f; font-size: 14px; font-weight: bold; margin-right: 5px"/>
                    </div>
                    <div class="col-xl-8 col-lg-7 col-md-6 col-sm-6" style="margin-left: -10px">
                        <h:panelGroup rendered="#{currentUser.hasRoleAsManager}">
                            <p:menuButton icon="fas fa-cog" style="margin-top: -4px">
                                <p:menuitem value="#{langueBean.getMsg('rightbody.concept.manage_note')}"
                                            actionListener="#{noteBean.resetForConcept(conceptView.nodeFullConcept.identifier, selectedTheso.currentLang)}"
                                            update="containerIndex:idAddNoteNew"
                                            oncomplete="PF('addNoteNew').show();" icon="fas fa-plus"/>
                            </p:menuButton>
                        </h:panelGroup>
                    </div>
                    <div class="col-xl-1 col-lg-1 col-md-1 col-sm-1"
                         style="text-align: right; margin-top: 7px">
                        <p:inputSwitch id="commandOtherLang" value="#{conceptView.toggleSwitchNotesLang}"
                                       style="color: #f47b2a; margin-right: 10px">
                            <p:ajax listener="#{conceptView.setNotes()}"
                                    update="containerIndex:formRightTab messageIndex"/>
                        </p:inputSwitch>
                        <p:tooltip for="commandOtherLang" value="#{langueBean.getMsg('concept.showNotesOtherLang')}"
                                   showDelay="1000"/>
                    </div>
                </div>
            </div>
            <p:spacer height="1px" width="98%" style="margin-left: 10px; margin-top: 5px;
                          margin-bottom: -5px; background-color: #CBD1DC; font-weight: 100"  />



            <h:panelGroup id="idConceptNotes" style="margin-top: 5px;">
                <!-- Note -->
                <h:panelGroup rendered="#{conceptView.isHaveNote()}">
                    <div class="list-group-item list-group-item-action">
                        <div class="row" style="margin-left: 0px; margin-bottom: 5px;">
                            <div class="col-xl-3 col-lg-4 col-md-5 col-sm-5 offset-xl-0 offset-lg-0 offset-md-0 offset-sm-0"
                                 style="text-align: left; ">
                                <h:outputText value="#{langueBean.getMsg('rightbody.concept.note')}"
                                              title="#{langueBean.getMsg('rightbody.concept.note')}"
                                              style="font-size: 14px; font-weight: bold;color: #8f8f8f"/>
                            </div>
                            <div class="col-xl-8 col-lg-7 col-md-6 col-sm-6" style="margin-left: #{conceptView.margeForNotes()}">
                                <!-- Notes multilingues -->
                                <h:panelGroup rendered="#{conceptView.toggleSwitchNotesLang}">
                                        <ui:repeat var="note" value="#{conceptView.noteAllLang}" varStatus="status">
                                            <div class="row">
                                                <div class="#{conceptView.margeTranslateNotes()}" >
                                                    <!-- DeepL -->
                                                    <p:commandLink id="deeplNote"
                                                            rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                            actionListener="#{deeplTranslate.init()}"
                                                                   action="#{deeplTranslate.initNoteToTranslateByLang(note, 'note')}"
                                                                   oncomplete="PF('deeplTranslate').show();"
                                                                   update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                        <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                                    </p:commandLink>
                                                    <p:tooltip for="deeplNote" value="#{langueBean.getMsg('deepl.translate')}" />
                                                    <!-- Drapeau -->
                                                    <img src="#{conceptView.getDrapeauImgLocal(note.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                                </div>
                                                <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                                    <!-- Note -->
                                                    <h:outputText value="#{note.lexicalValue}#{conceptView.getNoteSource(note.noteSource)}" escape="false" style="font-size: 14px;"/>
                                                    <h:outputText value=" (#{note.lang}) " style="font-size: 14px; font-weight: 300;"/>
                                                </div>
                                            </div>
                                        </ui:repeat>
                                </h:panelGroup>

                                <!-- une note -->
                                <h:panelGroup rendered="#{!conceptView.toggleSwitchNotesLang}">
                                    <div class="row">
                                        <div class="#{conceptView.margeTranslateNotes()}" >
                                            <!-- DeepL -->
                                            <p:commandLink
                                                    rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                    actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                    action="#{deeplTranslate.initNoteToTranslate(conceptView.nodeConcept.concept.idConcept, 'note')}"
                                                    oncomplete="PF('deeplTranslate').show();"
                                                    update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                            </p:commandLink>
                                            <!-- Drapeau -->
                                            <img src="#{conceptView.getDrapeauImgLocal(conceptView.note.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                        </div>
                                        <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                            <!-- Note -->
                                            <h:outputText value="#{conceptView.note.lexicalValue}#{conceptView.getNoteSource(conceptView.note.noteSource)}" escape="false" style="font-size: 14px;"/>
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>

                <!-- ChangeNote -->
                <h:panelGroup rendered="#{conceptView.isHaveChangeNote()}">
                    <div class="list-group-item list-group-item-action">
                        <div class="row" style="margin-left: 0px; margin-bottom: 5px;">
                            <div class="col-xl-3 col-lg-4 col-md-5 col-sm-5 offset-xl-0 offset-lg-0 offset-md-0 offset-sm-0"
                                 style="text-align: left; ">
                                <h:outputText value="#{langueBean.getMsg('rightbody.concept.change_note')}"
                                              title="#{langueBean.getMsg('rightbody.concept.change_note')}"
                                              style="font-size: 14px; font-weight: bold;color: #8f8f8f"/>
                            </div>
                            <div class="col-xl-8 col-lg-7 col-md-6 col-sm-6" style="margin-left: #{conceptView.margeForNotes()}">
                                <!-- Notes multilingues -->
                                <h:panelGroup rendered="#{conceptView.toggleSwitchNotesLang}">
                                    <ui:repeat var="note" value="#{conceptView.changeNoteAllLang}" varStatus="status">
                                        <div class="row">
                                            <div class="#{conceptView.margeTranslateNotes()}" >
                                                <!-- DeepL -->
                                                <p:commandLink
                                                        rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                        actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                        action="#{deeplTranslate.initNoteToTranslateByLang(note, 'changeNote')}"
                                                        oncomplete="PF('deeplTranslate').show();"
                                                        update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                    <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                                </p:commandLink>
                                                <!-- Drapeau -->
                                                <img src="#{conceptView.getDrapeauImgLocal(note.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                            </div>
                                            <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                                <!-- Note -->
                                                <h:outputText value="#{note.lexicalValue}#{conceptView.getNoteSource(note.noteSource)}" escape="false" style="font-size: 14px;"/>
                                                <h:outputText value=" (#{note.lang}) " style="font-size: 14px; font-weight: 300;"/>
                                            </div>
                                        </div>
                                    </ui:repeat>
                                </h:panelGroup>

                                <!-- une note -->
                                <h:panelGroup rendered="#{!conceptView.toggleSwitchNotesLang}">
                                    <div class="row">
                                        <div class="#{conceptView.margeTranslateNotes()}" >
                                            <!-- DeepL -->
                                            <p:commandLink
                                                    rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                    actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                    action="#{deeplTranslate.initNoteToTranslate(conceptView.nodeConcept.concept.idConcept, 'changeNote')}"
                                                    oncomplete="PF('deeplTranslate').show();"
                                                    update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                            </p:commandLink>
                                            <!-- Drapeau -->
                                            <img src="#{conceptView.getDrapeauImgLocal(conceptView.changeNote.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                        </div>
                                        <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                            <!-- Note -->
                                            <h:outputText value="#{conceptView.changeNote.lexicalValue}#{conceptView.getNoteSource(conceptView.changeNote.noteSource)}" escape="false" style="font-size: 14px;"/>
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>

                <!-- Definition -->
                <h:panelGroup rendered="#{conceptView.isHaveDefinition()}">
                    <div class="list-group-item list-group-item-action">
                        <div class="row" style="margin-left: 0px; margin-bottom: 5px;">
                            <div class="col-xl-3 col-lg-4 col-md-5 col-sm-5 offset-xl-0 offset-lg-0 offset-md-0 offset-sm-0"
                                 style="text-align: left; ">
                                <h:outputText value="#{langueBean.getMsg('rightbody.concept.definition')}"
                                              title="#{langueBean.getMsg('rightbody.concept.definition')}"
                                              style="font-size: 14px; font-weight: bold;color: #8f8f8f"/>
                            </div>
                            <div class="col-xl-8 col-lg-7 col-md-6 col-sm-6" style="margin-left: #{conceptView.margeForNotes()}">
                                <!-- Notes multilingues -->
                                <h:panelGroup rendered="#{conceptView.toggleSwitchNotesLang}">
                                    <ui:repeat var="note" value="#{conceptView.definitionAllLang}" varStatus="status">
                                        <div class="row">
                                            <div class="#{conceptView.margeTranslateNotes()}" >
                                                <!-- DeepL -->
                                                <p:commandLink
                                                        rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                        actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                        action="#{deeplTranslate.initNoteToTranslateByLang(note, 'definition')}"
                                                        oncomplete="PF('deeplTranslate').show();"
                                                        update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                    <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                                </p:commandLink>
                                                <!-- Drapeau -->
                                                <img src="#{conceptView.getDrapeauImgLocal(note.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                            </div>
                                            <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                                <!-- Note -->
                                                <h:outputText value="#{note.lexicalValue}#{conceptView.getNoteSource(note.noteSource)}" escape="false" style="font-size: 14px;"/>
                                                <h:outputText value=" (#{note.lang}) " style="font-size: 14px; font-weight: 300;"/>
                                            </div>
                                        </div>
                                    </ui:repeat>
                                </h:panelGroup>

                                <!-- une note -->
                                <h:panelGroup rendered="#{!conceptView.toggleSwitchNotesLang}">
                                    <div class="row">
                                        <div class="#{conceptView.margeTranslateNotes()}" >
                                            <!-- DeepL -->
                                            <p:commandLink
                                                    rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                    actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                    action="#{deeplTranslate.initNoteToTranslate(conceptView.nodeConcept.concept.idConcept, 'definition')}"
                                                    oncomplete="PF('deeplTranslate').show();"
                                                    update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                            </p:commandLink>
                                            <!-- Drapeau -->
                                            <img src="#{conceptView.getDrapeauImgLocal(conceptView.definition.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                        </div>
                                        <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                            <!-- Note -->
                                            <h:outputText value="#{conceptView.definition.lexicalValue}#{conceptView.getNoteSource(conceptView.definition.noteSource)}" escape="false" style="font-size: 14px;"/>
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>

                <!-- EditorialNote -->
                <h:panelGroup rendered="#{conceptView.isHaveEditorialNote()}">
                    <div class="list-group-item list-group-item-action">
                        <div class="row" style="margin-left: 0px; margin-bottom: 5px;">
                            <div class="col-xl-3 col-lg-4 col-md-5 col-sm-5 offset-xl-0 offset-lg-0 offset-md-0 offset-sm-0"
                                 style="text-align: left; ">
                                <h:outputText value="#{langueBean.getMsg('rightbody.concept.editorial_note')}"
                                              title="#{langueBean.getMsg('rightbody.concept.editorial_note')}"
                                              style="font-size: 14px; font-weight: bold;color: #8f8f8f"/>
                            </div>
                            <div class="col-xl-8 col-lg-7 col-md-6 col-sm-6" style="margin-left: #{conceptView.margeForNotes()}">
                                <!-- Notes multilingues -->
                                <h:panelGroup rendered="#{conceptView.toggleSwitchNotesLang}">
                                    <ui:repeat var="note" value="#{conceptView.editorialNoteAllLang}" varStatus="status">
                                        <div class="row">
                                            <div class="#{conceptView.margeTranslateNotes()}" >
                                                <!-- DeepL -->
                                                <p:commandLink
                                                        rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                        actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                        action="#{deeplTranslate.initNoteToTranslateByLang(note, 'editorialNote')}"
                                                        oncomplete="PF('deeplTranslate').show();"
                                                        update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                    <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                                </p:commandLink>
                                                <!-- Drapeau -->
                                                <img src="#{conceptView.getDrapeauImgLocal(note.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                            </div>
                                            <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                                <!-- Note -->
                                                <h:outputText value="#{note.lexicalValue}#{conceptView.getNoteSource(note.noteSource)}" escape="false" style="font-size: 14px;"/>
                                                <h:outputText value=" (#{note.lang}) " style="font-size: 14px; font-weight: 300;"/>
                                            </div>
                                        </div>
                                    </ui:repeat>
                                </h:panelGroup>

                                <!-- une note -->
                                <h:panelGroup rendered="#{!conceptView.toggleSwitchNotesLang}">
                                    <div class="row">
                                        <div class="#{conceptView.margeTranslateNotes()}" >
                                            <!-- DeepL -->
                                            <p:commandLink
                                                    rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                    actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                    action="#{deeplTranslate.initNoteToTranslate(conceptView.nodeConcept.concept.idConcept, 'editorialNote')}"
                                                    oncomplete="PF('deeplTranslate').show();"
                                                    update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                            </p:commandLink>
                                            <!-- Drapeau -->
                                            <img src="#{conceptView.getDrapeauImgLocal(conceptView.editorialNote.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                        </div>
                                        <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                            <!-- Note -->
                                            <h:outputText value="#{conceptView.editorialNote.lexicalValue}#{conceptView.getNoteSource(conceptView.editorialNote.noteSource)}" escape="false" style="font-size: 14px;"/>
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>

                <!-- Example -->
                <h:panelGroup rendered="#{conceptView.isHaveExampleNote()}">
                    <div class="list-group-item list-group-item-action">
                        <div class="row" style="margin-left: 0px; margin-bottom: 5px;">
                            <div class="col-xl-3 col-lg-4 col-md-5 col-sm-5 offset-xl-0 offset-lg-0 offset-md-0 offset-sm-0"
                                 style="text-align: left; ">
                                <h:outputText value="#{langueBean.getMsg('rightbody.concept.example_note')}"
                                              title="#{langueBean.getMsg('rightbody.concept.example_note')}"
                                              style="font-size: 14px; font-weight: bold;color: #8f8f8f"/>
                            </div>
                            <div class="col-xl-8 col-lg-7 col-md-6 col-sm-6" style="margin-left: #{conceptView.margeForNotes()}">
                                <!-- Notes multilingues -->
                                <h:panelGroup rendered="#{conceptView.toggleSwitchNotesLang}">
                                    <ui:repeat var="note" value="#{conceptView.exampleAllLang}" varStatus="status">
                                        <div class="row">
                                            <div class="#{conceptView.margeTranslateNotes()}" >
                                                <!-- DeepL -->
                                                <p:commandLink
                                                        rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                        actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                        action="#{deeplTranslate.initNoteToTranslateByLang(note, 'example')}"
                                                        oncomplete="PF('deeplTranslate').show();"
                                                        update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                    <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                                </p:commandLink>
                                                <!-- Drapeau -->
                                                <img src="#{conceptView.getDrapeauImgLocal(note.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                            </div>
                                            <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                                <!-- Note -->
                                                <h:outputText value="#{note.lexicalValue}#{conceptView.getNoteSource(note.noteSource)}" escape="false" style="font-size: 14px;"/>
                                                <h:outputText value=" (#{note.lang}) " style="font-size: 14px; font-weight: 300;"/>
                                            </div>
                                        </div>
                                    </ui:repeat>
                                </h:panelGroup>

                                <!-- une note -->
                                <h:panelGroup rendered="#{!conceptView.toggleSwitchNotesLang}">
                                    <div class="row">
                                        <div class="#{conceptView.margeTranslateNotes()}" >
                                            <!-- DeepL -->
                                            <p:commandLink
                                                    rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                    actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                    action="#{deeplTranslate.initNoteToTranslate(conceptView.nodeConcept.concept.idConcept, 'example')}"
                                                    oncomplete="PF('deeplTranslate').show();"
                                                    update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                            </p:commandLink>
                                            <!-- Drapeau -->
                                            <img src="#{conceptView.getDrapeauImgLocal(conceptView.example.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                        </div>
                                        <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                            <!-- Note -->
                                            <h:outputText value="#{conceptView.example.lexicalValue}#{conceptView.getNoteSource(conceptView.example.noteSource)}" escape="false" style="font-size: 14px;"/>
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>

                <!-- History -->
                <h:panelGroup rendered="#{conceptView.isHaveHistoryNote()}">
                    <div class="list-group-item list-group-item-action">
                        <div class="row" style="margin-left: 0px; margin-bottom: 5px;">
                            <div class="col-xl-3 col-lg-4 col-md-5 col-sm-5 offset-xl-0 offset-lg-0 offset-md-0 offset-sm-0"
                                 style="text-align: left; ">
                                <h:outputText value="#{langueBean.getMsg('rightbody.concept.history_note')}"
                                              title="#{langueBean.getMsg('rightbody.concept.history_note')}"
                                              style="font-size: 14px; font-weight: bold;color: #8f8f8f"/>
                            </div>
                            <div class="col-xl-8 col-lg-7 col-md-6 col-sm-6" style="margin-left: #{conceptView.margeForNotes()}">
                                <!-- Notes multilingues -->
                                <h:panelGroup rendered="#{conceptView.toggleSwitchNotesLang}">
                                    <ui:repeat var="note" value="#{conceptView.historyNoteAllLang}" varStatus="status">
                                        <div class="row">
                                            <div class="#{conceptView.margeTranslateNotes()}" >
                                                <!-- DeepL -->
                                                <p:commandLink
                                                        rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                        actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                        action="#{deeplTranslate.initNoteToTranslateByLang(note, 'historyNote')}"
                                                        oncomplete="PF('deeplTranslate').show();"
                                                        update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                    <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                                </p:commandLink>
                                                <!-- Drapeau -->
                                                <img src="#{conceptView.getDrapeauImgLocal(note.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                            </div>
                                            <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                                <!-- Note -->
                                                <h:outputText value="#{note.lexicalValue}#{conceptView.getNoteSource(note.noteSource)}" escape="false" style="font-size: 14px;"/>
                                                <h:outputText value=" (#{note.lang}) " style="font-size: 14px; font-weight: 300;"/>
                                            </div>
                                        </div>
                                    </ui:repeat>
                                </h:panelGroup>

                                <!-- une note -->
                                <h:panelGroup rendered="#{!conceptView.toggleSwitchNotesLang}">
                                    <div class="row">
                                        <div class="#{conceptView.margeTranslateNotes()}" >
                                            <!-- DeepL -->
                                            <p:commandLink
                                                    rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                    actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                    action="#{deeplTranslate.initNoteToTranslate(conceptView.nodeConcept.concept.idConcept, 'historyNote')}"
                                                    oncomplete="PF('deeplTranslate').show();"
                                                    update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                            </p:commandLink>
                                            <!-- Drapeau -->
                                            <img src="#{conceptView.getDrapeauImgLocal(conceptView.historyNote.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                        </div>
                                        <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                            <!-- Note -->
                                            <h:outputText value="#{conceptView.historyNote.lexicalValue}#{conceptView.getNoteSource(conceptView.historyNote.noteSource)}" escape="false" style="font-size: 14px;"/>
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>

                <!-- ScopeNote -->
                <h:panelGroup rendered="#{conceptView.isHaveScopeNote()}">
                    <div class="list-group-item list-group-item-action">
                        <div class="row" style="margin-left: 0px; margin-bottom: 5px;">
                            <div class="col-xl-3 col-lg-4 col-md-5 col-sm-5 offset-xl-0 offset-lg-0 offset-md-0 offset-sm-0"
                                 style="text-align: left; ">
                                <h:outputText value="#{langueBean.getMsg('rightbody.concept.scope_note')}"
                                              title="#{langueBean.getMsg('rightbody.concept.scope_note')}"
                                              style="font-size: 14px; font-weight: bold;color: #8f8f8f"/>
                            </div>
                            <div class="col-xl-8 col-lg-7 col-md-6 col-sm-6" style="margin-left: #{conceptView.margeForNotes()}">
                                <!-- Notes multilingues -->
                                <h:panelGroup rendered="#{conceptView.toggleSwitchNotesLang}">
                                    <ui:repeat var="note" value="#{conceptView.scopeNoteAllLang}" varStatus="status">
                                        <div class="row">
                                            <div class="#{conceptView.margeTranslateNotes()}" >
                                                <!-- DeepL -->
                                                <p:commandLink
                                                        rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                        actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                        action="#{deeplTranslate.initNoteToTranslateByLang(note, 'scopeNote')}"
                                                        oncomplete="PF('deeplTranslate').show();"
                                                        update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                    <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                                </p:commandLink>
                                                <!-- Drapeau -->
                                                <img src="#{conceptView.getDrapeauImgLocal(note.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                            </div>
                                            <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                                <!-- Note -->
                                                <h:outputText value="#{note.lexicalValue}#{conceptView.getNoteSource(note.noteSource)}" escape="false" style="font-size: 14px;"/>
                                                <h:outputText value=" (#{note.lang}) " style="font-size: 14px; font-weight: 300;"/>
                                            </div>
                                        </div>
                                    </ui:repeat>
                                </h:panelGroup>

                                <!-- une note -->
                                <h:panelGroup rendered="#{!conceptView.toggleSwitchNotesLang}">
                                    <div class="row">
                                        <div class="#{conceptView.margeTranslateNotes()}" >
                                            <!-- DeepL -->
                                            <p:commandLink
                                                    rendered="#{(currentUser.nodeUser != null) and (currentUser.hasRoleAsManager) and (roleOnTheso.nodePreference.use_deepl_translation)}"
                                                    actionListener="#{deeplTranslate.init()}" title="#{langueBean.getMsg('deepl.translate')}"
                                                    action="#{deeplTranslate.initNoteToTranslate(conceptView.nodeConcept.concept.idConcept, 'scopeNote')}"
                                                    oncomplete="PF('deeplTranslate').show();"
                                                    update="containerIndex:idDeeplTranslate containerIndex:deeplTranslateForm">
                                                <img src="/resources/img/deepl.png" height="25" style="margin-right: 7px" />
                                            </p:commandLink>
                                            <!-- Drapeau -->
                                            <img src="#{conceptView.getDrapeauImgLocal(conceptView.scopeNote.lang)}" width="20" height="15" style="margin-right: 7px"/>
                                        </div>
                                        <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10">
                                            <!-- Note -->
                                            <h:outputText value="#{conceptView.scopeNote.lexicalValue}#{conceptView.getNoteSource(conceptView.scopeNote.noteSource)}" escape="false" style="font-size: 14px;"/>
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </h:panelGroup>

            </h:panelGroup>
        </div>
    </div>
</ui:fragment>
